{"id":483,"date":"2021-10-26T22:01:53","date_gmt":"2021-10-26T22:01:53","guid":{"rendered":"https:\/\/shichengzhang.web.illinois.edu\/?page_id=483"},"modified":"2021-10-28T01:33:22","modified_gmt":"2021-10-28T01:33:22","slug":"ac-melody-mutator","status":"publish","type":"page","link":"https:\/\/shichengzhang.web.illinois.edu\/ac-melody-mutator\/","title":{"rendered":"Algorithmic Composition- Melody Mutator"},"content":{"rendered":"\n<p class=\"has-medium-font-size\"><strong>Abstract:<\/strong><\/p>\n\n\n\n<p>Melody Mutator is an algorithm imitating the genome mutation process in parthenogenesis- a type of asexual reproduction. Given a melody sequence, for example, twinkle twinkle little star, the algorithm will repeat the same melody recursively but with minor increments or decrements in the musical parameters such as midi keynum, midi onset time, and duration. Eventually, you will hear a completely different sounding of the melody as if a white dwarf star becoming a supernova.<\/p>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Music:<\/strong><\/p>\n\n\n\n<figure class=\"wp-block-audio\"><audio controls src=\"https:\/\/shichengzhang.web.illinois.edu\/wp-content\/uploads\/2021\/10\/twinkle-little-star.mp3\"><\/audio><\/figure>\n\n\n\n<figure class=\"wp-block-video\"><video height=\"1084\" style=\"aspect-ratio: 1824 \/ 1084;\" width=\"1824\" controls src=\"https:\/\/shichengzhang.web.illinois.edu\/wp-content\/uploads\/2021\/10\/FL-Studio-20-2021-10-27-20-15-44_Trim.mp4\"><\/video><\/figure>\n\n\n\n<div class=\"wp-block-file\"><a href=\"https:\/\/shichengzhang.web.illinois.edu\/wp-content\/uploads\/2021\/10\/evolve-1.mid\">Twinkle_little_star_midi<\/a><a href=\"https:\/\/shichengzhang.web.illinois.edu\/wp-content\/uploads\/2021\/10\/evolve-1.mid\" class=\"wp-block-file__button\" download>Download<\/a><\/div>\n\n\n\n<p class=\"has-medium-font-size\"><strong>Code:<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\r# Musx is an algorithmic compostion framework created by Professor Heinrick Taube at UIUC \r\n# Install musx package through pip install musx \r\n\r\n# Import info and some functions are omitted, if you need source code, please contact: sz18@illinois.edu, Benny Zhang\n\ndef MutateMidiNote(dur=0, amp=0, key=0, chan=0):\r\n    dur = dur + choices(&#91;0, dur*0.1, -dur*0.1, dur*0.5, -dur*0.5], &#91;70,1,1,1,1])&#91;0]\r\n    amp = amp + choices(&#91;0, amp*0.1, -amp*0.1, amp*0.5, -amp*0.5],&#91;40,1,1,1,1])&#91;0]\r\n    key = key + choices(&#91;0, + 1, -1, + 2, -2],&#91;30,1,1,1,1])&#91;0]\r\n    chan = choices(&#91;chan, 0, 1, 2, 3, 9],&#91;40,1,1,1,1,1])&#91;0]\r\n    return (dur, amp, key, chan)\r\ndef mutate_pheno_1(q,notes,count):\r\n    for j in range(count):\r\n        for i in range(len(notes)):\r\n            print(notes&#91;i]&#91;2])\r\n            note = MidiNote(time=q.now, dur=notes&#91;i]&#91;0], amp=notes&#91;i]&#91;1], key=notes&#91;i]&#91;2], chan=notes&#91;i]&#91;3])\r\n            q.out.addevent(note)\r\n            yield notes&#91;i]&#91;0]\r\n        notes = &#91;MutateMidiNote(item&#91;0],item&#91;1],item&#91;2],item&#91;3]) for item in notes]\r\n\r\n\r\ndef get_melo(tone,keey):\r\n    return &#91;MutateMidiNote(0.3,0.5,item + keey,0) for item in tone]\r\n\r\ndef evolve():\r\n    t0 = MidiSeq.metaseq(ins={0: AcousticGrandPiano, 1: Violin,2:Xylophone,3:Marimba})\r\n    seq = MidiSeq()\r\n    seq_2 = MidiSeq()\r\n    seq_3 = MidiSeq()\r\n    seq_4 = MidiSeq()\r\n    queue = Scheduler(out=seq)\r\n    queue_2 = Scheduler(out=seq_2)\r\n    queue_3 = Scheduler(out=seq_3)\r\n    queue_4 = Scheduler(out=seq_4)\r\n\r\n\r\n    count = 20;\r\n    tone = &#91;60,60,67,67,69,69,67,67,65,65,64,64,62,62,60,60]\r\n    A = mutate_pheno_1(queue, get_melo(tone,0),count)\r\n    B = mutate_pheno_1(queue_2, get_melo(tone,12),count)\r\n    C = mutate_pheno_1(queue_3, get_melo(tone,-12),count)\r\n    D = mutate_pheno_1(queue_4, get_melo(tone,-24),count)\r\n    #B = pheno_2(queue_2, chords, scales, key)\r\n    queue.compose(&#91;0, A])\r\n    queue_2.compose(&#91;0, B])\r\n    queue_3.compose(&#91;0, C])\r\n    queue_4.compose(&#91;0, D])\r\n    #queue_2.compose(&#91;0, B])\r\n    #queue.compose(melody(queue, chords, scales, key))\r\n    # print(\"yes\")\r\n    MidiFile(\"evolve.mid\", &#91;t0,seq,seq_2,seq_3,seq_4]).write()  \r\n \r\nevolve()<\/code><\/pre>\n","protected":false},"excerpt":{"rendered":"<p>Abstract: Melody Mutator is an algorithm imitating the genome mutation process in parthenogenesis- a type of asexual reproduction. Given a melody sequence, for example, twinkle twinkle little star, the algorithm will repeat the same melody recursively but with minor increments or decrements in the musical parameters such as midi keynum, midi onset time, and duration.&hellip; <\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"spay_email":"","footnotes":""},"class_list":["post-483","page","type-page","status-publish","hentry"],"_links":{"self":[{"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/pages\/483","targetHints":{"allow":["GET"]}}],"collection":[{"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/comments?post=483"}],"version-history":[{"count":3,"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/pages\/483\/revisions"}],"predecessor-version":[{"id":659,"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/pages\/483\/revisions\/659"}],"wp:attachment":[{"href":"https:\/\/shichengzhang.web.illinois.edu\/wp-json\/wp\/v2\/media?parent=483"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}